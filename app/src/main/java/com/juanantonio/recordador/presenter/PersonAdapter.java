package com.juanantonio.recordador.presenter;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;

import android.os.FileUtils;
import android.util.Base64;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ImageView;
import android.widget.TextView;

import androidx.annotation.NonNull;
import androidx.recyclerview.widget.RecyclerView;

import com.juanantonio.recordador.R;
import com.juanantonio.recordador.model.Person;

import java.io.File;
import java.util.List;

public class PersonAdapter extends RecyclerView.Adapter<PersonAdapter.ViewHolder> {

    private List<Person> listPersons;
    private Context context;
    private onPersonListener monPersonListener;

    public PersonAdapter(List<Person> listPersons, Context context, onPersonListener onPersonListener) {
        this.listPersons = listPersons;
        this.context = context;
        this.monPersonListener = onPersonListener;
    }

    @NonNull
    @Override
    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.recycler_view_item, parent, false);
        return new ViewHolder(v, monPersonListener);
    }

    @Override
    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {
        Person p = listPersons.get(position);
        holder.textViewName.setText(p.getName());
        holder.textViewSurname.setText(p.getEmail());
        if (p.getImage() != null) {
            byte[] decodedString = Base64.decode(p.getImage(), Base64.DEFAULT);
            Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);
            holder.imageView.setImageBitmap(decodedByte);
        } else {
            byte[] decodedString = Base64.decode("/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAIBAQEBAQIBAQECAgICAgQDAgICAgUEBAMEBgUGBgYFBgYGBwkIBgcJBwYGCAsICQoKCgoKBggLDAsKDAkKCgr/2wBDAQICAgICAgUDAwUKBwYHCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgr/wAARCAGiApgDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9MKKKK+sPHCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoorS0bwb4s8QIZdF8O3t2gH+shtmZfzxik5RirtjSbM2iu+0D9m/4laygnu7W209Cf+Xyf5seoVA35HFdjo37KGjxxo2v+J7mV85kW0jWNfoC24/jXNPG4anvK/pqaRo1JdDxCjmvpWw/Z4+FNiBv0B7g4I3XF3Ic/gCB+lamn/CL4aaYc2vguwJ5/wBfD5v/AKHmsJZnRWyf4Giws+rPlY/SivpX4gWHwa8H6I9z4k8L6UiupEdvDZxrNKfRNoBz75AHqK+bbh4pLiSSCLYjOSiZztGeBnvXRhsR9YTai0ZVKfs3a4yiiiukzCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAoop0UUs8qwwRM7ucKiLkk+gA60ANoALHaoyT0Ar0nwL+zZ4p8RRrqHiWZtKt2AKxvFumcZ6bcjZx3PPtXr3g/4S+BvBCA6PoyNMME3Vz+8kyO4J+768YrhrY+jSdlq/66m8MPOWr0PBPDHwS+I3ikeZBoL2kWAfO1AGIEewIyfwFei+HP2VdEtjHP4n8Qy3Rx88Fsnlpn03Ekkfka9bAwMUV51TH4ips7LyOqOHpx31Oe8PfCv4feF236P4WtVfnEkqmVx64ZySK6ARoqhVQAAYAA6UtFccpSk7ydzZJLYMAdBRRRSGFZHjzxMfBvhG+8TLaeebSIMsW/buJIAyewya16zvFnhyx8XeHrrw5qJkEN0m1zE2GGCCCPxAqo8vMubYTvbQ+VvFfivW/GmtS69r115k0hwqjhY17Ko7Af55rNrs/iR8EvFPw/Y3oU32nk8XcMfK8ZO9edvfnJHv2rjK+mpTpSgvZ7HlSUlL3twooorQkKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKK7L4R/CTUviPqX2m5DwaXA+Lm5A5c9diep9T2H4AxUqQpQcpbIqMXOVkZngH4b+JviJqH2TRLXbCjAXF5LxHEP6n2HP4c1798Ovg14X+H0CTQ26Xd/j95fzoCwPfYP4Bz25Pcmui0Dw7o3hfTI9H0KwS3t4hhI0H6k9ST6nmrteFicZUruy0j2/zO+lQjT1erDpRRRXGbhRRRQAUUUUAFFFFABRRRQA2WGKeMxTRq6sCGVhkEHqDXkPxY/Z0iuxL4i8AwrHLy02mjAV/wDrn/dP+yeD2x0r2CitaVapQlzQZE6caisz42uLee0ne1uYWjkjYrIjrgqR1BFMr6S+LfwW0n4g27app+221ZF+ScD5ZsDhXx9MA9R79K+dtY0bVfD+oy6TrVhJbXELYeKVcEe/uPQjg172GxUMRHTfsedUpSpvyK1FFFdJmFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRQAWIVRknoBQB0Xwz+Huo/EXxImk22Y7ePD3tzjiNM/+hHoB/ga+n9C0TTfDulQaNpNqsNvbxhIkX0Hr6k9Se5rm/gt4Ch8CeDIYJoV+23YE16+whtxHCHPPyg4+ufWuvr5/GYh16llstv8AM9GhTUI36sKKKK4zcKKKKACiiigAooooAKKKKACiiigAooooAK4z4v8AwmsviPpIktSsGpWqk2s5HDf9M2/2T69jz6g9nRVQnKnJSi7NEyipKzPjnUNPvtJvpdM1K2aG4gcpNE4wVYdRUNe8/tG/C6PWtJbxzo8IW7so/wDTEUHM0Xrj1Xk59M+grwavo8NXjiKfMt+p5tWm6crBRRRW5mFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFdX8FfDCeKfiPp9pMqtFbyfaZlYAhlTBwQeoLbR+NcpXqf7KVjHN4u1G/bG6HTwigj+86857fd/WsMVJww8muxpSXNUSPeR06UUUV80eoFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQA2aJJozFIuVYYYHuK+Vvij4S/4QnxvfaHFEVtxJ5lpls5iblefbp+FfVZrwf9q21SPxXpl2Cdz6eUb0wrkj/wBCNd+XVHHEcvRo5sTG9O/Y8rooor3TgCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACvWv2Tf+Q/q/wD15x/+hmvJa9d/ZLglbWNZuQvyLbRKxz0JZiP5GuXG/wC6yNaH8VHt9FFFfOnphRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUABOO1eHftZRSjXNHnZCEa1lVW9SGGR+o/Ovca8Y/a4/wBZoH+7df8AtKuvA/71H5/kY4j+EzxqiiivoTzQooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAr2X9kcDfr5x2tf8A2rXjVey/sjkb9fHta/8AtWuTHf7rL5fmbUP4qPZ6KKK+ePSCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK8Y/a4/wBZoH+7df8AtKvZ68Y/a4/1mgf7t1/7SrrwP+9R+f5GOI/hM8aooor6E80KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAK9u/ZLVP7K1qTaN32iEE45xtavEa9v/ZK/wCQRrX/AF9Q/wDoLVx4/wD3WXy/M3w/8VHrtFFFfPnohRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFeMftcf6zQP8Aduv/AGlXs9eMftcf6zQP926/9pV14H/eo/P8jHEfwmeNUUUV9CeaFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFe3/ALJX/II1r/r6h/8AQWrxCvb/ANkr/kEa1/18w/8AoLVyY/8A3WXy/M3w/wDFR67RRRXzx6IUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABXjH7XH+s0D/duv/aVez14x+1x/rNA/3br/ANpV14H/AHqPz/IxxH8JnjVFFFfQnmhRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHW/CT4XTfE7Vri1bUfsttaRK88qoGYljhVAJHXB57Y9690+FnwutvhjbXlra6rJdC7kRyZIwu3aCOx5615v+ydfxR+INW0tvvzWccq/RGIP/oYr3OvDx9Wr7Z029NDvw8Icil1CiiivPOkKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigArzr48/C/xN8SJtJHh42wFms/nNcSlRlvLwBgHP3TXotBI7+laUqsqM+eO6JnFTjZnyH4p8Mav4O1ybw/rcIS4gIztOVYEZBU9waz6739pG6gufihOkJyYbSFHwOh27v5EVwVfSUZupSjJ7tHlzSjNpBRRRWhIUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAHpX7LM0cXxGuEdsGTSJFQep8yM4/IGvoKvmr9ne/Fj8VbBWkCrPFNEcjOf3ZIH5gV9Kg55HSvCzJWxN+6R6GGf7sKKKK4DoCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKQnHNLSMARyKGB8v/HBlf4q6yUYEeeoyD38tc1ylbXxIvBf/ABA1q6UDB1ScDacggORn9Kxa+ooq1GK8l+R5M3ebCiiitCQooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKANv4b6hBpXj7R7+6bbHHqEW9s9AWAz9Oa+sEOVr40BIOQcfSvqz4YeLY/Gvgqx10YEjRbLhQclZF+Vs/iMjPYivIzOm7xn8jswst4nQUUUV5R2BRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFMubiK1ge4ncKiIWZj2AGSafXGfHnxPF4a+HN4olZZr5fstvt6kt976fKGqoQdSaiupMmoxbZ81XU73NzJcSOWaRyzMepJOc1HRRX1R5IUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAV3nwG+JF74N8UxaJOd9hqlwkUqFgPLdiFWTJ7DPPt9K4OpLO7nsLyK/tX2ywSrJG2OjA5B/Os6tONWm4vqVCTjK6PsiiqPhnWI/EHh6y1yIALd2yTAA5xuUHH4Ver5ezWjPWWqCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAbNKkEbSyHCqMk18z/ABm+J8nxF8QAWTMum2eVtIzxvJ6yEep4GOwHua94+LOuSeHPh1q2qwZ8xbUxxkHozkID+BbP4V8q16uW0k26j6aI5MVNq0Qooor1ziCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD6X/Z71B7/wCFOneactA0sXLZ4EjY+nBFdrXj37KXiPzLPUvC0sozFKtzAh6kMNr/AIAhP++q9hHNfN4qPJiZLz/M9SjLmpphRRRXOaBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRQcYOaAPKP2qtfe08N2Hh6KcD7ZdGSVB1ZEH8ssPyrwqu4/aE8Tp4j+JFxDbuxi05BaqDnG5clzj/eJH4Vw9fRYKm6eGin11+88ytLmqMKKKK6jIKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAOg+F/i4+CPG9jr7n9yshjuQf+ebDax/DOfwr6pgnhuYEuIJVeN1DI6nIYHoQa+NvrXuX7OPxSGp2S+A9cugLi2j/wCJe7t/rYx1Qe6jp3xn0ry8xoOS9rHpv6HVhqiT5WetUUUV453BRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABWP488VWvg3wnfeIbk/6iE+WuM7nPCj/voitgkDrXgH7R3xIj8Sa0vg/SZi1pp0p+0ODxLP0I+i8j6k+xrfDUXXrKPTr6GdWoqcGzza7uri+upL27maSWZy8rseWYnJJ/Go6KK+l2PLCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKks7y60+6jvrKdopoXDxSIcFWByCKjooA+nvgr46v8A4geDBq+qQKlxBcG3mdTxKyqp34wMZ3dK66uE/Zx08WXwss5dhDXM80rZXH8ZUfXhRzXd18xXUY1pKO1z1abbgmwooorIsKKKKACiiigAooooAKKKKACiiigDl/jLrd34e+G+q6nYTPHMIVjjkTqpd1TI9Pvde1fLjMzsXdixJySTkk19K/tCkj4T6pj1g/8AR6V8017WWJexb8zgxV+degUUUV6RzBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFAH1P8ILWO1+GeiRxkkGwRjn1b5j+prpay/BFh/Zng7StPKqDDp8KkL0yEGf1rUr5WbvUk/N/metFWigoooqSgooooAKKKKACiiigAooooAKKKKAOH/aKnih+E+oJI2DLLAqD1Pmqf5A18119G/tLf8kum/6/Yf5mvnKvbyz/AHd+rODFfxPkFFFFeicwUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABUtlbteXkVohAMsioCegJOK6T4S/Dib4keJf7PkkeKzt1El7Mg5C54UHoCf5AntXvWkfBb4ZaMY5bXwlbtJH9152aQ5yDn5ieePwrjxGMp0Hy7s2p0JVFfodRGiRRrHGoVVUBVUYAFLRRXz56QUUUUAFFFFABRRRQAUUUUAFFFFABRRRQB5/8AtLkf8KvlH/T7D/M18519g6xoWj+IbP8As/XNOiuoN4byZ0DKSOhwa8j+PHwU0HSNDbxf4P0/7Mbds3trFkoyEgb1H8OO4HGOeMc+ngMTTpr2Uur3OTEUpSfMjxqiiivZOIKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiigAk4AoA96/ZW0aG28HX2s4HmXV/sY/7KIMD83b869Srlvgz4ZuPCfw7sNMvP8AXOhnmXbgqz/NtPuAQPwrqa+ZxE1Uryku56lJctNIKKKKxNAooooAKKKKACiiigAooooAKKKKACiiigAqpr1hHqmiXmnSqpFxayRneuRypHI79at0jZ2nFGzuD1R8adOKK6H4p+Ep/Bfji+0d1bymlMtqzEHdExJB4/EfUGuer6qElOKkup5Ek4uzCiiiqEFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUqqzsERSSTgACgBK634JeEB4w+INpbzqDb2Z+1XIIzuVCML0PBYqD7Zqx4S+AnxC8UMJZdM/s6DAPm6gpQn6LjcTj2A969p+FXwl0z4Y2s/kX73VzdhPOmeMKBtzwoHQc9ya4MXi6cKbjF3kzoo0ZSkm1odaqhRgDFLRRXhHoBRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAeV/tQeDm1Hw5B4utYl36e+y4buYnIA+uGx/30a8Hr6/8AEehWXibQ7rQNRUmC7haOTHUAjqPcHB/CvEPF37L/AIp0t5bnwrfxahAoykMn7uY8nj+63GOcjPpXrYHFU4U/Zzduxx4ijJy5oo8voq5rXh/W/Dl39g13Sp7SbGRHPGVJHqM9ap16qaaujj1TswooopgFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUV0fg/wCFXjjxuyvo2iutuwz9ruf3cWPUMfvf8BzUynCCvJ2Q0nJ2SOcq7ofhzXvEtz9j0DSLi7kGNywRFtueMk9FHua9s8Ifsv8AhnS1Fz4sv31KUgEQx5iiU9+h3N+n0r0rTNF0jRbUWOkaZBbQr0jgiCj8hXnVcypx0pq/5HTDCyfxaHi3hD9lrVrvbc+MtYS2QhSLazO+T3BYjavpxu/x9S8KfDDwP4MXdoOgxRy4Aa5ky8hx/tNnH0GBXQAADAFFebVxNet8T07HVClCGyECgUtFFYGgUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUY5zRRQBU1XQ9I122az1jTobmJ1IZJowwwfr0rzzxd+zF4R1Yvc+GbubTJCOIuZYs49Cdw/Pv0r06itKdarSd4OxEoQnuj5e8X/Bb4geDmL3mjNdW+CftViDKgHvgZX8QB7muUr7LKqeormPGPwg8CeNSZtV0dI5yCBc2uI5Oc8kjhuueQa9GlmbWlRfNf5HNPC/ys+W6K9P8Y/sw+KNIJuPCt9HqUWCfKfEco9uThvzH0rzjU9I1XRbk2er6bPayjny7iIoceuD2r0qdelWXuO5zShOD1RXooorUgKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACin29tc3k621pbvLI5wkcalmY+wHJr0bwP+zX4t8QMl34nkGlWxw2xgGmdTzwoOF9Pm5HpWdStToq83YqMJTdkjzdEeRxHGpZicBQMkmu48Ffs/8AjvxaI7u7tf7Ns358+7X5yPaPqfxwPevbvBfwl8EeBlEmk6SslwCT9sucPLz6Nj5R7DFdKBgYry6uZSelNW82dcMKl8TOG8G/ADwH4VVLi5sf7RugoDTXoDLnuVToPxyfeu4jRY0EaAAAYAA6UtFebOc6krydzpjGMVZIKKKKkoKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAqjrnhvQ/EtsbLXtJt7uLBws8YbbkYJB6qfcc1eooTad0DSaPIvGX7LemXZa68Fao1o+Di1u8vGT7MPmUfg1eV+Lfh34x8EzeX4h0SWJD92dRvjb/gQ4/DrX1jTJ7aC6iaC5iWRHUq6OuQwPUEd67qWYVqekveX4/ec88PCWq0Pjbp1FFfRPjb9nHwV4lV7nQ4/7KuiuENug8kn3j/wIryPxt8FfHPglpLi40/7ZZof+Py0+YY9WXqv4jHvXp0cbQraJ2fmcs6FSByVFB4ODRXWYhRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRXd/Dz4B+LfGoj1LUEOnaexU+bMv7yVSM5Re/bk4HPGelZ1KtOlHmm7FRhKbskcNBBNczLb20LSSOwVI0XJYnoAB1Nek+Bv2afFGusl74slOmWpOTEMNM4+nRfx5HpXr3gb4XeEfANqF0bTw1wV2y3s2Glk59ccfQYrowMDAryq+YylpSVvM66eGS1kYHg34aeD/AkITQNKRZduHupBumf6t/QYFb9FFebKUpu8ndnUkktAooopDCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACkKg9qWigDjvGvwO8CeM/MuZdP+x3cjbjd2QCsx77h91s98jPvXj3jX9n7x14TV7yythqVomSZbQHeoH95OvT0yK+kqK6qOMr0dE7rszGdCnM+NCCpIYEEHkGkr6f8e/BrwZ48Rp72x+zXhxi+tQFkOP73Zh9efevFfH/wK8ZeCC95FB/aFiu4/abVCTGo7uuPl/MjjrXrUMbRraPR+f8AmclShOHmjiqKKK7DAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKuaD4f1jxNqcej6HYSXNxKwASNc4GQNxPZRnkngUmhaFqviXVYdF0W0ae4nbaiL/MnsB3NfTPwv+F+j/DbRxb2wE17KP9LvCuDIfQDso9PxNcmKxUcPHu2bUqTqPyMD4X/s+6F4TEOs+JRHf6kAGVSMxQN/sj+I89T6cAV6OAAMAUUV4NSpUqy5pu56EYRgrIKKKKgoKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACkZFb7yg0tFAHmPxe+Amm+JIZde8I20drqKgtJAi7UuTx17K2MnIHJ6+o8FurW5sbl7O9t3imicrJFKhVkYdQQehr7IPIxXmHx8+D6eJbB/Fvhy0/4mNsn7+GJOblB7D+MZPPUjj0r0sFjHCSp1Hp0fb/gHLXoJrmjueBUUUV7RwhRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUVp+DNE/4STxZp2hEErdXkaSYP8AAT836ZpSajFvsNK7se4/s7fDmDw34ZXxRqFsDf6lGHRmX5oYTyqj/e+8fw9K9IpqIFjEY6AACnV8vVqSq1HOXU9WEVCKSCiiioKCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACkKgjBFLRQB85/tC/D5PCPiv+2tLtQlhqRLqqJhYpR95Bjpn734n0rz+vp742eFE8V/D2+txAXmtU+1W23qHQE/qu4fjXzDXv4Cs6tCz3Wn+R52IhyVNOoUUUV2mAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAV0/wa/5Khov/AF+f+ymiisq/8CXoyofGj6looor5g9YKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigCO8AazlBGQY2yD9K+Nh0oor1cp+38jixfQWiiivXOQKKKKACiiigAooooAKKKKACiiigAooooA//9k=", Base64.DEFAULT);
            Bitmap decodedByte = BitmapFactory.decodeByteArray(decodedString, 0, decodedString.length);
            holder.imageView.setImageBitmap(decodedByte);
        }

    }

    @Override
    public int getItemCount() {
        if(listPersons!=null){
            return listPersons.size();
        }else{
            return 0;
        }

    }

    public class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener {

        public ImageView imageView;
        public TextView textViewName;
        public TextView textViewSurname;
        onPersonListener personListener;

        public ViewHolder(@NonNull View itemView, onPersonListener personListener) {
            super(itemView);
            imageView = itemView.findViewById(R.id.imageRecyclerView);
            textViewName = itemView.findViewById(R.id.nameRecyclerView);
            textViewSurname = itemView.findViewById(R.id.surnameRecyclerView);
            this.personListener = personListener;
            itemView.setOnClickListener(this);
        }

        @Override
        public void onClick(View v) {
            personListener.onPersonClick(getAdapterPosition());
        }
    }

    public interface onPersonListener {
        void onPersonClick(int position);
    }

    public void removeAt(int position) {
        listPersons.remove(position);
        notifyItemRemoved(position);
        notifyItemRangeChanged(position, listPersons.size());
    }


}
